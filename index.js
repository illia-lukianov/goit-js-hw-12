import{a as v,i as l}from"./assets/vendor-CU_BWnSf.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const n of s.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&o(n)}).observe(document,{childList:!0,subtree:!0});function a(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(t){if(t.ep)return;t.ep=!0;const s=a(t);fetch(t.href,s)}})();const w={key:"49359598-9a4c243d7cce225cafe13dd3f",image_type:"photo",per_page:15,orientation:"horizontal",safesearch:"true"};async function f(e,r){return await v.get("https://pixabay.com/api/",{params:{page:r,q:e,...w}})}const b=document.querySelector(".gallery");function P(e){const r=e.map(a=>{const{webformatURL:o,largeImageURL:t,tags:s,likes:n,views:h,comments:y,downloads:L}=a;return`<li class="gallery-item">
            <a href="${t}"><img class="item-image" src="${o}" alt="${s}"></a>
                <ul class = 'image-info'>
                    <li>
                        <p class="item-likes"><span class="info-accent">Likes</span>${n}</p>
                    </li>
                    <li>
                        <p class="item-views"><span class="info-accent">Views</span>${h}</p>
                    </li>
                    <li>
                        <p class="item-comments"><span class="info-accent">Comments</span>${y}</p>
                    </li>
                    <li>
                        <p class="item-downloads"><span class="info-accent">Downloads</span>${L}</p>
                    </li>
                </ul>
        </li>`}).join("");b.insertAdjacentHTML("beforeend",r)}const j=null,m=document.querySelector(".gallery"),u=document.querySelector(".form"),c=document.querySelector(".loader"),S=document.querySelector(".container"),i=document.querySelector(".load-more-button");let p,d=1;u.addEventListener("submit",async e=>{e.preventDefault();const r=e.currentTarget.elements.searchText.value.trim();if(q(r)){d=1,c.classList.remove("js-hidden"),i.classList.add("js-hidden");try{m.innerHTML="";const a=await f(r,d);p=a.data.totalHits;const o=a.data.hits;g(o),D(r),F(j)}catch{l.info({message:"Sorry, we have a problems, try later"})}}});function q(e){return e===""?(l.error({title:"Error",message:"Please, input data to search."}),!1):!0}function F(e){e?e.refresh():e=new SimpleLightbox(".gallery a")}function g(e){if(!$(e)){c.classList.add("js-hidden"),u.reset();return}P(e),x(),c.classList.add("js-hidden"),S.classList.remove("center"),u.reset()}function $(e){return e.length===0?(l.error({message:"Sorry, there are no images matching your search query. Please try again!"}),!1):!0}function x(){m.children.length<p?i.classList.remove("js-hidden"):(i.classList.add("js-hidden"),l.error({message:"We`re sorry, but you`ve reached the end of search results."}))}function D(e){i.addEventListener("click",async()=>{d+=1,i.classList.add("js-hidden"),c.classList.remove("js-hidden");try{const r=(await f(e,d)).data.hits;g(r),O(),i.classList.remove("js-hidden"),c.classList.add("js-hidden")}catch{l.info({message:"Sorry, we have a problems, try later"})}})}function O(){const e=m.querySelector(".gallery-item");if(e){const r=e.getBoundingClientRect().height;window.scrollBy({top:2*r,behavior:"smooth"})}}
//# sourceMappingURL=index.js.map
