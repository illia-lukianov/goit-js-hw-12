{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst searchParams = {\n  key: '49359598-9a4c243d7cce225cafe13dd3f',\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: 'true',\n}\n\nexport default function queryToPixabayApi(searchData) {\n  return axios.get(\"https://pixabay.com/api/\", {\n    params: {\n      q: searchData,\n      ...searchParams\n    }\n  });\n};","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst gallery = document.querySelector('.gallery');\n\nexport default function renderMarkUp(responce) {\n    const markup = responce.map(image => {\n        const { webformatURL, largeImageURL, tags, likes, views, comments, downloads } = image;\n        return `<li class=\"gallery-item\">\n            <a href=\"${largeImageURL}\"><img class=\"item-image\" src=\"${webformatURL}\" alt=\"${tags}\"></a>\n            <div class=\"image-info\">\n                <p class=\"item-likes\"><span class=\"info-accent\">Likes</span>${likes}</p>\n                <p class=\"item-views\"><span class=\"info-accent\">Views</span>${views}</p>\n                <p class=\"item-comments\"><span class=\"info-accent\">Comments</span>${comments}</p>\n                <p class=\"item-downloads\"><span class=\"info-accent\">Downloads</span>${downloads}</p>\n            </div>\n        </li>`\n    }).join(\"\");\n    gallery.innerHTML = '';\n    gallery.insertAdjacentHTML('beforeend', markup);\n    const lightbox = new SimpleLightbox('.gallery a');\n    lightbox.refresh();\n}","import queryToPixabayApi from './js/pixabay-api';\nimport renderMarkUp from './js/render-functions';\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst form = document.querySelector('.form');\nconst loader = document.querySelector('#loader');\nconst div = document.querySelector('.container');\n\nloader.classList.remove('loader');\n\nform.addEventListener('submit', event => {\n    event.preventDefault();\n    const searchData = event.currentTarget.elements.searchText.value.trim();\n\n    if (!validateDataFromForm(searchData)) {\n        return;\n    };\n    \nloader.classList.add('loader');\n\nqueryToPixabayApi(searchData)\n    .then((response) => {\n        return response.data.hits;\n    })\n    .then((response) => {\n        if (!validateDataFromAPI(response)) {\n            throw new Error('Invalid data from API');\n        }\n        return response;\n    })\n    .then((response) => {\n        div.classList.remove('center');\n        renderMarkUp(response);\n    })\n    .catch((error) =>\n        console.error('ERROR:', error)\n        \n    ).finally(() =>\n        loader.classList.remove('loader')\n    )\n});\n\n\nfunction validateDataFromForm(searchData) {\n    if (searchData === '') {\n         iziToast.error({\n            title: 'Error',\n            message: 'Please, input data to search.',\n         })\n        return false;\n    }\n    return true;\n}\n\nfunction validateDataFromAPI(responce) {\n    if (responce.length === 0) {\n        iziToast.error({\n            message: 'Sorry, there are no images matching your search query. Please try again!',\n        })\n        return false;\n    }\n    return true;\n}"],"names":["searchParams","queryToPixabayApi","searchData","axios","gallery","renderMarkUp","responce","markup","image","webformatURL","largeImageURL","tags","likes","views","comments","downloads","SimpleLightbox","form","loader","div","event","validateDataFromForm","response","validateDataFromAPI","error","iziToast"],"mappings":"owBAEA,MAAMA,EAAe,CACnB,IAAK,qCACL,WAAY,QACZ,YAAa,aACb,WAAY,MACd,EAEe,SAASC,EAAkBC,EAAY,CACpD,OAAOC,EAAM,IAAI,2BAA4B,CAC3C,OAAQ,CACN,EAAGD,EACH,GAAGF,CACJ,CACL,CAAG,CACH,CCbA,MAAMI,EAAU,SAAS,cAAc,UAAU,EAElC,SAASC,EAAaC,EAAU,CAC3C,MAAMC,EAASD,EAAS,IAAIE,GAAS,CACjC,KAAM,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,EAAGP,EACjF,MAAO;AAAA,uBACQE,CAAa,kCAAkCD,CAAY,UAAUE,CAAI;AAAA;AAAA,8EAElBC,CAAK;AAAA,8EACLC,CAAK;AAAA,oFACCC,CAAQ;AAAA,sFACNC,CAAS;AAAA;AAAA,cAG/F,CAAK,EAAE,KAAK,EAAE,EACVX,EAAQ,UAAY,GACpBA,EAAQ,mBAAmB,YAAaG,CAAM,EAC7B,IAAIS,EAAe,YAAY,EACvC,QAAO,CACpB,CChBA,MAAMC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAM,SAAS,cAAc,YAAY,EAE/CD,EAAO,UAAU,OAAO,QAAQ,EAEhCD,EAAK,iBAAiB,SAAUG,GAAS,CACrCA,EAAM,eAAc,EACpB,MAAMlB,EAAakB,EAAM,cAAc,SAAS,WAAW,MAAM,OAE5DC,EAAqBnB,CAAU,IAIxCgB,EAAO,UAAU,IAAI,QAAQ,EAE7BjB,EAAkBC,CAAU,EACvB,KAAMoB,GACIA,EAAS,KAAK,IACxB,EACA,KAAMA,GAAa,CAChB,GAAI,CAACC,EAAoBD,CAAQ,EAC7B,MAAM,IAAI,MAAM,uBAAuB,EAE3C,OAAOA,CACf,CAAK,EACA,KAAMA,GAAa,CAChBH,EAAI,UAAU,OAAO,QAAQ,EAC7Bd,EAAaiB,CAAQ,CAC7B,CAAK,EACA,MAAOE,GACJ,QAAQ,MAAM,SAAUA,CAAK,CAEhC,EAAC,QAAQ,IACNN,EAAO,UAAU,OAAO,QAAQ,CACnC,EACL,CAAC,EAGD,SAASG,EAAqBnB,EAAY,CACtC,OAAIA,IAAe,IACduB,EAAS,MAAM,CACZ,MAAO,QACP,QAAS,+BACrB,CAAU,EACK,IAEJ,EACX,CAEA,SAASF,EAAoBjB,EAAU,CACnC,OAAIA,EAAS,SAAW,GACpBmB,EAAS,MAAM,CACX,QAAS,0EACrB,CAAS,EACM,IAEJ,EACX"}